# Функциональные требования к Android приложению для PhpService API

## Цель проекта
Целью проекта является создание Android приложения на языке Kotlin, которое позволяет пользователям просматривать информацию о своих заказах и получать уведомления о статусе заказа с помощью PhpService API.

## Описание приложения
- Приложение представляет собой клиент-серверное приложение, которое использует RESTful API для обмена данными с PhpService.
- Приложение поддерживает Android 10 и выше.
- Приложение состоит из трех основных экранов: экран входа, экран списка заказов и экран деталей заказа.
- Экран входа позволяет пользователю ввести свой логин и пароль для аутентификации с помощью PhpService API. При успешной аутентификации пользователь переходит на экран списка заказов.
- Экран списка заказов отображает список всех заказов пользователя с краткой информацией о каждом заказе: номер заказа, название товара, цена, количество и статус. Пользователь может обновить список заказов, потянув его вниз. Пользователь может перейти на экран деталей заказа, нажав на любой заказ из списка.
- Экран деталей заказа отображает подробную информацию о выбранном заказе: номер заказа, название товара, цена, количество, статус, дата создания, дата оплаты, дата доставки и сообщение (если есть). Пользователь может запросить уведомление о статусе заказа по электронной почте или телефону, нажав на соответствующую кнопку. Пользователь может вернуться на экран списка заказов, нажав на кнопку назад.
- Приложение получает уведомления от PhpService API о статусе заказа через Firebase Cloud Messaging (FCM). При получении уведомления приложение отображает его в системном трее и на экране блокировки. При нажатии на уведомление пользователь переходит на экран деталей заказа.

## Функциональные требования
- Приложение должно быть реализовано на языке Kotlin с использованием Android Studio и Gradle.
- Приложение должно использовать библиотеку Retrofit для работы с RESTful API.
- Приложение должно использовать библиотеку Gson для парсинга JSON данных.
- Приложение должно использовать библиотеку OkHttp для управления HTTP соединениями и кэширования данных.
- Приложение должно использовать библиотеку Dagger для внедрения зависимостей.
- Приложение должно использовать библиотеку Jetpack Navigation для навигации между экранами.
- Приложение должно использовать библиотеку Jetpack LiveData для обновления пользовательского интерфейса в соответствии с изменениями данных.
- Приложение должно использовать библиотеку Jetpack ViewModel для хранения и управления данными, связанными с пользовательским интерфейсом.
- Приложение должно использовать библиотеку Jetpack Room для локального хранения данных о заказах в SQLite базе данных.
- Приложение должно использовать библиотеку Jetpack WorkManager для выполнения фоновых задач, таких как отправка запросов на уведомления.
- Приложение должно использовать библиотеку Firebase Cloud Messaging (FCM) для получения уведомлений от PhpService API.
- Приложение должно поддерживать аутентификацию и авторизацию пользователей с помощью JWT (JSON Web Token), полученных от PhpService API.
- Приложение должно проверять наличие интернет-соединения перед отправкой запросов к PhpService API и отображать сообщение об ошибке в случае его отсутствия.
- Приложение должно обрабатывать ошибки, возвращаемые от PhpService API, и отображать соответствующее сообщение пользователю.
- Приложение должно логировать все запросы и ответы от PhpService API, а также ошибки и исключения в файлы журнала.

## Диаграмма классов

![PhpService Class Diagram](PhpService_Class_Diagram.png)

На диаграмме показаны основные классы, используемые в PhpService, их атрибуты и методы, а также связи между ними. Краткое описание каждого класса:

- **Controller** - абстрактный класс, который определяет общую логику для всех контроллеров в PhpService. Он наследует от базового класса CodeIgniter\Controller и содержит методы для проверки аутентификации и авторизации пользователя, а также для отправки ответов в формате JSON.
- **UserController** - класс, который отвечает за обработку запросов, связанных с пользователями. Он наследует от класса Controller и содержит методы для регистрации, входа и выхода пользователя, а также для получения и обновления профиля пользователя.
- **OrderController** - класс, который отвечает за обработку запросов, связанных с заказами. Он наследует от класса Controller и содержит методы для получения списка заказов пользователя, получения деталей заказа по его идентификатору, и запроса уведомления о статусе заказа по электронной почте или телефону.
- **Model** - абстрактный класс, который определяет общую логику для всех моделей в PhpService. Он наследует от базового класса CodeIgniter\Model и содержит методы для работы с базой данных MySQL с помощью библиотеки Query Builder.
- **UserModel** - класс, который отвечает за работу с данными о пользователях. Он наследует от класса Model и содержит методы для создания, поиска, проверки и обновления пользователей в базе данных.
- **OrderModel** - класс, который отвечает за работу с данными о заказах. Он наследует от класса Model и содержит методы для создания, поиска, обновления и удаления заказов в базе данных.
- **SalesAPI** - класс, который отвечает за взаимодействие с SalesAPI. Он содержит методы для отправки GET запросов к SalesAPI и получения данных о проданных товарах в формате JSON.
- **BillAPI** - класс, который отвечает за взаимодействие с BillAPI. Он содержит методы для отправки POST запросов к BillAPI с данными о проданных товарах и получения данных для счета-фактуры в формате JSON.
- **CustomAPI** - класс, который отвечает за взаимодействие с CustomAPI. Он содержит методы для отправки POST запросов к CustomAPI с данными для счета-фактуры и получения ответа об успешности или ошибке в формате JSON.
- **Mailgun** - класс, который отвечает за отправку уведомлений по электронной почте с помощью сервиса Mailgun. Он содержит методы для формирования и отправки сообщений по заданным параметрам: адресат, тема, текст и т.д.
- **Twilio** - класс, который отвечает за отправку уведомлений по телефону с помощью сервиса Twilio. Он содержит методы для формирования и отправки сообщений по заданным параметрам: номер телефона, текст и т.д.

